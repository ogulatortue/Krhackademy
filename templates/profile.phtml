<?php
$pageTitle = 'Mon Profil - Kr[HACK]ademy';
$specific_css = ['/css/content-page.css'];
?>
<!DOCTYPE html>
<html lang="fr">
<?php require __DIR__ . '/partials/head.phtml';?>
<body class="page-profile">
    <a id="go-back-button" href="/" class="btn-glass back-button">
        <i class="fas fa-arrow-left"></i> Retour
    </a>
    <main class="container">
        <div class="content-container">
            <div class="content-wrapper menu">
                <header class="content-header">
                    <i class="fas fa-user-circle content-icon"></i>
                    <div class="content-title-group">
                        <h1>Mon Profil</h1>
                        <p class="content-intro">Votre vitrine sur Kr[HACK]ademy</p>
                    </div>
                </header>
                    <div class="content-block">
                        <div class="profile-header-card">
                            <div class="profile-banner">
                                <img src="<?php echo htmlspecialchars($userProfile['banner_url'] ?? 'images/default-banner.webp'); ?>" alt="Bannière de profil">
                            </div>
                            <div class="profile-avatar-wrapper">
                                <img class="profile-avatar" src="<?php echo htmlspecialchars($userProfile['avatar_url'] ?? 'images/default-avatar.webp'); ?>" alt="Avatar de <?php echo htmlspecialchars($userProfile['username']); ?>">
                            </div>
                        </div>
                        
                        <div class="profile-main-content">
                            <h2 class="profile-username"><?php echo htmlspecialchars($userProfile['username']); ?></h2>
                            <p class="profile-bio"><?php echo nl2br(htmlspecialchars($userProfile['bio'] ?? 'Aucune biographie pour le moment.')); ?></p>
                        </div>
                    </div>
                
                    <div class="profile-main-content" style="padding-top: 60px;">
                        <h2 class="profile-username"><?php echo htmlspecialchars($userProfile['username']); ?></h2>
                    </div>
                </div>

                <div class="content-block">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-value"><?php echo $userProfile['total_score']; ?></span>
                            <span class="stat-label">Score Total</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value"><?php echo $userProfile['challenges_completed']; ?></span>
                            <span class="stat-label">Challenges Réussis</span>
                        </div>
                         <div class="stat-item">
                            <span class="stat-value"><?php echo $userProfile['lessons_completed']; ?></span>
                            <span class="stat-label">Leçons Réussies</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value"><?php echo (new DateTime($userProfile['registration_date']))->format('d/m/Y'); ?></span>
                            <span class="stat-label">Membre depuis</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</body>
</html>